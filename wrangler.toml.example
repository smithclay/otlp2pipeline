# Example wrangler.toml - generated by ./scripts/pipeline-env.sh create <env-name>
# Copy this file or run the script to generate wrangler.toml

name = "otlpflare-<env-name>"
main = "build/worker/shim.mjs"
compatibility_date = "2024-01-01"

[build]
command = "cargo install -q worker-build && worker-build --release"

[vars]
PIPELINE_LOGS = "https://<stream-id>.ingest.cloudflare.com"
PIPELINE_TRACES = "https://<stream-id>.ingest.cloudflare.com"
PIPELINE_GAUGE = "https://<stream-id>.ingest.cloudflare.com"
PIPELINE_SUM = "https://<stream-id>.ingest.cloudflare.com"
HOT_CACHE_ENABLED = "false"
HOT_CACHE_RETENTION_SECONDS = "3600"

[observability]
enabled = true

[observability.logs]
invocation_logs = true
head_sampling_rate = 0.1

[observability.traces]
enabled = false

[[durable_objects.bindings]]
name = "HOT_CACHE"
class_name = "HotCacheDO"

[[migrations]]
tag = "v1"
new_sqlite_classes = ["HotCacheDO"]
